# 1. 설계

Q1. 웹 프론트엔드 (사용자 앱용)
기술 스택:React 18+ (Vite), TypeScript, Tailwind, TanStack Query

중요한건 앱용이라는거야. 플러터로 웹뷰를 할거야

로그인 - 닉네임 입력
홈 (룰렛) - 룰렛 UI, 오늘 잔여 예산 표시
내 포인트 - 포인트 목록 (유효기간, 만료됨 상태 표시), 7일 내 만료 예정 포인트 알림 (이거는 알림함에 존재)
상품 목록 - 구매 가능 상품, 내 포인트로 구매 가능 여부
주문 내역 - 내 주문 목록

+중요! 필수 기능 룰렛 애니메이션, API 연동, 로딩/에러 처리
우선 패키지 구조좀 잡아줘

Q2. 기술 세팅 도와줘

Q3. AGENTS.md 틀좀 잡아줘


# 2. 문제 고민과 해결

Q15. 서버로 요청을 2번씩 보내 문제가 되는 지점을 찾아보고 막아줘

# 3. 생산성 향상

Q4 그러면 먼저 로딩/ 에러 처리를 해야해 로딩/에러 페이지 만들어줘

Q5. 전역 에러 바운더리 + 전역 로딩 상태으로 적용해줘

Q6. 에러시 홈 이동 버튼 만들어저

Q7. 이제 로그인 화면을 만들거야 (POST /api/v1/auth/sign-in)
1. 제목은 Roulette-Up  으로 보이게 해주고
2. 닉네임 입력칸과 로그인 버튼만 있으면 돼

자세한건 openapi.json 보고 처리해줘.

Q8. 로그인 후 스토리지에는 id와 nickname을 모두 담아줘. Nickname은 로그인 때 입력한 것을 넣으면 돼

Q9. 이제 홈화면을 만들거야.
홈화면에는 오늘 룰렛 돌릴 수 있게 보여줄거야. 그리고 하단바에 이동 버튼 (상품 목록) (주문 내역) (마이페이지) 가 있고, 일단 임시로 버튼만 만들어둬
금일 룰렛 조회 (GET /api/v1/roulettes/today)
룰렛은 돌아가게 만들어주는 애니메이션을 넣어야해. 우선 조회하고 애니메이션만 보이게 해줘
자세한건 openapi.json

Q10. 룰렛 참여하기 버튼을 누르면 돌아가게 해줘

Q11.하단바는 항상 화면 아래에 고정시켜줘

Q12. 반환 값이 금일 예산, 사용 예산인데, 두개 값을 남은 포인트라고 표시하고, 만약 100미만이라면 남은 포인트에 0원을 남기며 룰렛에 종료됐다고 알려줘

Q13. 이제 룰렛 참여를 시도할거야
1. 홈화면에 가면 오늘 룰렛을 참여헀ㄴ는지 확인을 해야해 만약 참여했다면, 룰렛 참여하기 버튼을 막아야해 (GET /api/v1/roulettes/today/participation)
2. 룰렛 돌리기를 누르면 api 요청을 보내고 당첨된 포인트를 룰렛 위에 창으로 보여줌. (POST /api/v1/roulettes/today/participation)
    - reward는 실제 당첨 금액, credit는 실제로 적립된 금액인데 만약에 2개 값이 다르다면 포인트  부채 (reward-credit) 차감 이라고 내용도 보여줘야해

자세한건 openapi.json

Q14. 응답 오자마자 보여주는게 아니라 룰렛이 멈추면 보여주게 해줘. 단, 참여하기 누르면 요청은 바로 보내

Q15. 우측 하단에 마이페이지를 더보기 버튼으로 만들어서, 그걸 누르면 마이페이지, 로그아웃 버튼 누를 수 있게 뜨게해줘
로그아웃하면 스토리지 지우고 다시 로그인 창으로

Q16. 다음으로 마이페이지를 보여줄거야
1. 마이페이지에서는 사용자 닉네임을 보여준다. (스토리지에 저장한 닉네임 사용)
2. 닉네임 아래에는 사용자가 획득한 포인트 기록들을 보여준다. (GET /api/v1/points/records)
    - 페이지네이션 처리해
      자세한건 openapi.json을 활용

Q17. 하단바는 로그인 페이지 제외 모든 화면을 공유해야해

Q18. 사용자가 로그인 성공하고 홈 화면에  처음 들어왔을 때, 사용자 포인트를 조회해서 가져와줘 (GET /api/v1/users/points)
그리고, 마이페이지 닉네임 동일 칸 우측에 잔여 포인트 라고 해서 넣어줘
1. 룰렛에 참여한다
2. 상품 주문 요청을 보낸다
   와 같은 상황에서는 다시 조회 요청을 보내서 최신화 해줘
   자세한건 openapi.json

Q19. 마이페이지 칸 왼쪽에 뒤로가기 버튼을 만들어줘

Q20. 페이지마다 보이는 상단 제목 칸 #D6FF00으로 배경 색 바꿔

Q21. 다음은 상품 목록 페이지를 만들거야 우선 상품 전체 페이지 조회부터 만들어줘 (GET /api/v1/products)
1. 3 x 4형식으로 만들어줘
2. 마이페이지 포인트 기록처럼 페이지네이션도 넣어줘
   자세한건 openapi.json

Q22. 상품 상세 페이지 진행할게 (GET /api/v1/products/{productId})
1. 상품 상세 페이지는 모달창으로 뜬다.
2. 페이지 내에는 주문하기 버튼도 있다. (버튼만 만들고 아직 구현 x)

openapi.json 참고해서 만들어줘

Q23. 날짜 타입은 YYYY-MM-DD HH:mm 로 해

Q23. 이제 주문하기를 시작할거야. (POST /api/v1/orders)
1. 주문하기 누르면 모달창이 떠
2. 수량을 넣을 수 있어. (0<x<재고)
3. 수량과 가격으로 얼만지 보여줘 + 내 포인트도 같이 보여주며 주문 가능을 확인해줘
   자세한건 openapi.json

Q24. 재고보다 커지는걸 막아야해. 입력으로 하니 재고보다 크게 할 수 있어. 그리고 재고가 0이라면 없다고 해주고, 페이지 내에서도 해당 상품은 회색 배경으로 보여줘. 재고가 0이라도 상품 상세 정보는 볼 수 있어

Q25. 1. 상품 목록에도 뒤로가기 버튼을 만들어줘
2. 하단바 주문 내역 옆에 홈 버튼 만들어줘

Q26. 이제 주문 내역 페이지를 만들거야 (GET /api/v1/orders/my)
상품 목록 페이지와 똑같이 만들어줘 (3x4, 페이지네이션, 뒤로가기 등)
openapi.json 참고

Q27. 이제 주문 내용을 상세하게 볼거야 (GET /api/v1/orders/{orderId})
1. 상품 목록과 똑같이 호버 처리
2. 상품 목록과 같이 모달창
3. 안에는 주문 취소가 있는데, 아직 구현하지말고 버튼만 만들어줘
   자세한건 openapi.json

Q28. 이제 주문내역에서 상태에 따라 해당 주문 내역 배경과 테두리를 약간 다르게 해야해
사용자 취소는 회색, 관리자 취소는 연한 빨간색, 주문 완료된거는 그대로

Q29. 이제 알림함 만들거야 알림함의 위치는 모든 페이지 제목 칸의 우측에 알림 버튼을 넣어서 만들거야 (GET /api/v1/notifications)
1. 알림함을 누르면 우측에서 좌측으로 중간까지 나타나며 알림함을 보여준다.
2. isRead를 통해서 알림을 읽었는지 안읽었는지 구분한다.
3. 알림 type은 D7 (7일 뒤 만료), D3 (3일 뒤 만료)이다.
4. 무한스크롤 형식이다. 커서페이지 형식으로 요청한다.

자세한건 openapi.json

Q30. 이제 알림을 클릭하면 읽음 처리 할거야 (PATCH /api/v1/notifications/{notificationId}/read-confirm)

Q31. Public/favicon.svg에 로고를 넣었어. 적용해주고, 룰렛의 중간에 삽입해줘

Q32. 룰렛 중간 전체를 차지해야하고, 로고는 돌아가지 않게 해줘